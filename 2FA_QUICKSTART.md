# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç: –î–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

## –ö—Ä–æ–∫ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –ë–î

```bash
node scripts/add-2fa-fields.js
```

–¶–µ –¥–æ–¥–∞—Å—Ç—å 3 –Ω–æ–≤—ñ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—é `a_powerusers`:

- `twofa_secret` - —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á
- `twofa_enabled` - —Å—Ç–∞—Ç—É—Å (—É–≤—ñ–º–∫–Ω–µ–Ω–æ/–≤–∏–º–∫–Ω–µ–Ω–æ)
- `backup_codes` - —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–¥–∏

## –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ 2FA

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å `/admin`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/admin/settings/2fa`
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–£–≤—ñ–º–∫–Ω—É—Ç–∏ 2FA"**
4. **–í—ñ–¥—Å–∫–∞–Ω—É–π—Ç–µ QR –∫–æ–¥** —á–µ—Ä–µ–∑ Google Authenticator:
   - iOS: [App Store](https://apps.apple.com/app/google-authenticator/id388497605)
   - Android: [Google Play](https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2)
5. **–í–≤–µ–¥—ñ—Ç—å 6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥** –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
6. **–û–ë–û–í'–Ø–ó–ö–û–í–û –∑–±–µ—Ä–µ–∂—ñ—Ç—å** —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–¥–∏ –≤ –±–µ–∑–ø–µ—á–Ω–æ–º—É –º—ñ—Å—Ü—ñ!

## –ö—Ä–æ–∫ 4: –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Ö—ñ–¥

1. –í–∏–π–¥—ñ—Ç—å –∑ —Å–∏—Å—Ç–µ–º–∏
2. –í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å –Ω–∞ `/login`
3. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –≤–≤–µ—Å—Ç–∏ **6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥** –∑ Google Authenticator
4. –í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ ‚Üí —É—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥! ‚úÖ

## üí° –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –≤—Ç—Ä–∞—á–µ–Ω–æ –¥–æ—Å—Ç—É–ø –¥–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É?

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ **—Ä–µ–∑–µ—Ä–≤–Ω–∏–π –∫–æ–¥** (8 —Å–∏–º–≤–æ–ª—ñ–≤), —è–∫–∏–π –≤–∏ –∑–±–µ—Ä–µ–≥–ª–∏ –ø—Ä–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ 2FA.

–ö–æ–∂–µ–Ω –∫–æ–¥ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ **–æ–¥–∏–Ω —Ä–∞–∑**.

## üì± –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –¥–æ–¥–∞—Ç–∫–∏

–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –±—É–¥—å-—è–∫–∏–π TOTP –¥–æ–¥–∞—Ç–æ–∫:

- ‚úÖ Google Authenticator (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- ‚úÖ Microsoft Authenticator
- ‚úÖ Authy
- ‚úÖ 1Password
- ‚úÖ LastPass Authenticator

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ —Ñ–∞–π–ª–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ç–∞ –≥–æ—Ç–æ–≤—ñ –¥–æ —Ä–æ–±–æ—Ç–∏!

**API Endpoints:**

- `/api/admin/2fa/enable` - —É–≤—ñ–º–∫–Ω—É—Ç–∏
- `/api/admin/2fa/verify` - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–¥
- `/api/admin/2fa/disable` - –≤–∏–º–∫–Ω—É—Ç–∏
- `/api/admin/2fa/status` - —Å—Ç–∞—Ç—É—Å

**UI –°—Ç–æ—Ä—ñ–Ω–∫–∏:**

- `/admin/settings/2fa` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `/login` - –≤—Ö—ñ–¥ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é 2FA

## üìñ –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –≤ —Ñ–∞–π–ª—ñ: `docs/TWO_FACTOR_AUTH_README.md`

## ‚ö° –í—Å–µ –≥–æ—Ç–æ–≤–æ!

2FA —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!
