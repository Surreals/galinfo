# Чеклист тестування - Вибір зображень з галереї для реклами

## Передумови

- [ ] Адмін-панель доступна за адресою `/admin`
- [ ] Є авторизований користувач з правами адміністратора
- [ ] У галереї (`/admin/gallery`) є хоча б кілька зображень
- [ ] База даних містить таблицю `a_pics` з записами

---

## 1. Тестування відкриття галереї

### Створення нової реклами
- [ ] Перейти на `/admin/advertisements`
- [ ] Натиснути кнопку "Додати рекламу"
- [ ] Перевірити, що форма відкрилась
- [ ] Перевірити, що в полі "Зображення" є дві кнопки:
  - [ ] "Завантажити зображення" (з іконкою завантаження)
  - [ ] "Вибрати з галереї" (з іконкою зображення)
- [ ] Натиснути "Вибрати з галереї"
- [ ] Перевірити, що відкрилось модальне вікно "Вибрати зображення з галереї"

### Редагування існуючої реклами
- [ ] Натиснути "Редагувати" біля будь-якої реклами
- [ ] Перевірити, що форма відкрилась з заповненими даними
- [ ] Натиснути "Вибрати з галереї"
- [ ] Перевірити, що відкрилось модальне вікно галереї

---

## 2. Тестування інтерфейсу модального вікна

### Структура
- [ ] Модальне вікно має заголовок "Вибрати зображення з галереї"
- [ ] Присутня панель фільтрів з полями:
  - [ ] Поле пошуку "Пошук зображень..."
  - [ ] Випадаючий список "Тип зображення"
  - [ ] Поле "Пошук по тегах..."
  - [ ] Кнопка "Пошук"
- [ ] Присутня таблиця зображень з колонками:
  - [ ] Прев'ю (мініатюра)
  - [ ] Назва
  - [ ] Ім'я файлу
  - [ ] Тип
- [ ] Присутня пагінація внизу таблиці
- [ ] Присутні кнопки "Вибрати" та "Скасувати" внизу модального вікна

### Відображення даних
- [ ] Таблиця показує зображення (якщо вони є в базі)
- [ ] Мініатюри відображаються коректно
- [ ] Назви зображень відображаються
- [ ] Імена файлів відображаються
- [ ] Типи зображень відображаються українською мовою:
  - [ ] "Новини" для news
  - [ ] "Галерея" для gallery
  - [ ] "Аватар" для avatar
  - [ ] "Банер" для banner

---

## 3. Тестування пошуку

### Пошук за текстом
- [ ] Ввести текст у поле "Пошук зображень..."
- [ ] Натиснути Enter або кнопку "Пошук"
- [ ] Перевірити, що таблиця оновилась
- [ ] Перевірити, що відображаються тільки релевантні результати
- [ ] Очистити поле пошуку
- [ ] Натиснути "Пошук"
- [ ] Перевірити, що відображаються всі зображення

### Пошук за неіснуючим текстом
- [ ] Ввести випадковий текст (наприклад: "qwerty123xyz")
- [ ] Натиснути "Пошук"
- [ ] Перевірити, що таблиця порожня або показує "Немає даних"

---

## 4. Тестування фільтрів

### Фільтр за типом
- [ ] Вибрати "Новини" з випадаючого списку "Тип зображення"
- [ ] Перевірити, що таблиця оновилась автоматично
- [ ] Перевірити, що відображаються тільки зображення типу "Новини"
- [ ] Вибрати "Галерея"
- [ ] Перевірити, що відображаються тільки зображення типу "Галерея"
- [ ] Очистити фільтр (натиснути X)
- [ ] Перевірити, що відображаються всі зображення

### Фільтр за тегами
- [ ] Ввести тег у поле "Пошук по тегах..."
- [ ] Натиснути Enter або іконку пошуку
- [ ] Перевірити, що відображаються тільки зображення з вказаним тегом
- [ ] Очистити поле тегів
- [ ] Перевірити, що відображаються всі зображення

### Комбінація фільтрів
- [ ] Ввести текст пошуку + вибрати тип + ввести тег
- [ ] Натиснути "Пошук"
- [ ] Перевірити, що результати відповідають усім фільтрам

---

## 5. Тестування вибору зображення

### Вибір одного зображення
- [ ] Клікнути на будь-який рядок у таблиці
- [ ] Перевірити, що рядок підсвітився синім кольором
- [ ] Перевірити, що з'явився блок "Вибране зображення:"
- [ ] Перевірити, що в блоці показується:
  - [ ] Мініатюра зображення
  - [ ] Назва зображення
  - [ ] Ім'я файлу (сірим кольором)
- [ ] Перевірити, що кнопка "Вибрати" стала активною

### Зміна вибору
- [ ] Клікнути на інший рядок у таблиці
- [ ] Перевірити, що попередній рядок більше не підсвічений
- [ ] Перевірити, що новий рядок підсвічений
- [ ] Перевірити, що блок "Вибране зображення:" оновився

### Скасування вибору
- [ ] Натиснути кнопку "Скасувати" внизу модального вікна
- [ ] Перевірити, що модальне вікно закрилось
- [ ] Перевірити, що зображення НЕ додалось у форму

---

## 6. Тестування підтвердження вибору

### Успішний вибір
- [ ] Вибрати зображення (клікнути на рядок)
- [ ] Натиснути кнопку "Вибрати"
- [ ] Перевірити, що модальне вікно закрилось
- [ ] Перевірити, що з'явилось повідомлення "Зображення вибрано з галереї"
- [ ] Перевірити, що у формі з'явився попередній перегляд зображення
- [ ] Перевірити, що відображається правильне зображення

### Спроба вибрати без вибору зображення
- [ ] Відкрити галерею
- [ ] НЕ клікати на жоден рядок
- [ ] Спробувати натиснути "Вибрати"
- [ ] Перевірити, що кнопка неактивна (disabled)

---

## 7. Тестування пагінації

### Навігація по сторінках
- [ ] Перевірити, що внизу таблиці є інформація про кількість записів
  - Наприклад: "1-10 з 50 зображень"
- [ ] Натиснути на наступну сторінку (якщо є більше 10 зображень)
- [ ] Перевірити, що таблиця оновилась з новими зображеннями
- [ ] Перевірити, що номер сторінки змінився
- [ ] Повернутись на попередню сторінку
- [ ] Перевірити, що показуються попередні зображення

### Зміна кількості на сторінку
- [ ] Відкрити випадаючий список "10 / page"
- [ ] Вибрати іншу кількість (наприклад, 20)
- [ ] Перевірити, що таблиця оновилась
- [ ] Перевірити, що відображається правильна кількість зображень

---

## 8. Тестування збереження реклами

### Нова реклама з зображенням з галереї
- [ ] Відкрити форму створення реклами
- [ ] Вибрати зображення з галереї
- [ ] Заповнити всі обов'язкові поля:
  - [ ] Назва реклами
  - [ ] Позиція реклами
  - [ ] URL посилання (формат: https://...)
- [ ] Натиснути "Зберегти"
- [ ] Перевірити, що з'явилось повідомлення "Рекламу створено"
- [ ] Перевірити, що реклама з'явилась у списку
- [ ] Перевірити, що зображення відображається коректно в таблиці

### Редагування реклами зі зміною зображення
- [ ] Відкрити форму редагування реклами
- [ ] Запам'ятати поточне зображення
- [ ] Вибрати інше зображення з галереї
- [ ] Натиснути "Зберегти"
- [ ] Перевірити, що з'явилось повідомлення "Рекламу оновлено"
- [ ] Перевірити, що зображення змінилось у таблиці

---

## 9. Тестування адаптивності (мобільні пристрої)

### Перевірка на малих екранах
- [ ] Відкрити DevTools (F12)
- [ ] Увімкнути режим мобільного пристрою
- [ ] Вибрати пристрій (наприклад, iPhone 12)
- [ ] Відкрити галерею
- [ ] Перевірити, що:
  - [ ] Фільтри розташовані вертикально
  - [ ] Кнопки займають повну ширину
  - [ ] Таблиця має горизонтальну прокрутку
  - [ ] Модальне вікно коректно відображається

---

## 10. Тестування помилок та граничних випадків

### Пуста галерея
- [ ] Якщо галерея порожня, перевірити, що:
  - [ ] Таблиця показує "Немає даних"
  - [ ] Не виникає помилок JavaScript
  - [ ] Кнопки працюють коректно

### Помилка завантаження
- [ ] Вимкнути інтернет або зупинити сервер
- [ ] Спробувати відкрити галерею
- [ ] Перевірити, що з'являється повідомлення про помилку
- [ ] Увімкнути інтернет/сервер
- [ ] Перевірити, що можна повторно спробувати завантажити дані

### Зображення без мініатюри
- [ ] Перевірити, що якщо мініатюра не завантажується:
  - [ ] Показується placeholder або сірий квадрат
  - [ ] Не виникає помилок JavaScript

---

## 11. Тестування сумісності зі старим функціоналом

### Завантаження нового зображення (старий спосіб)
- [ ] Відкрити форму створення реклами
- [ ] Натиснути "Завантажити зображення"
- [ ] Вибрати файл з комп'ютера
- [ ] Перевірити, що зображення завантажилось
- [ ] Перевірити, що попередній перегляд з'явився
- [ ] Зберегти рекламу
- [ ] Перевірити, що реклама збереглась коректно

### Комбінація обох способів
- [ ] Відкрити форму створення реклами
- [ ] Спочатку вибрати зображення з галереї
- [ ] Потім завантажити нове зображення
- [ ] Перевірити, що нове зображення замінило попереднє
- [ ] Перевірити, що попередній перегляд оновився
- [ ] Зберегти рекламу
- [ ] Перевірити, що збереглось останнє вибране зображення

---

## 12. Тестування продуктивності

### Швидкість завантаження
- [ ] Відкрити галерею
- [ ] Перевірити, що зображення завантажуються швидко (< 2 секунд)
- [ ] Перевірити, що пагінація працює плавно
- [ ] Перевірити, що фільтри застосовуються без затримок

### Робота з великою кількістю зображень
- [ ] Якщо в галереї > 100 зображень:
  - [ ] Перевірити, що таблиця завантажується нормально
  - [ ] Перевірити, що пагінація працює коректно
  - [ ] Перевірити, що пошук та фільтрація швидкі

---

## 13. Тестування безпеки

### Доступ
- [ ] Перевірити, що неавторизовані користувачі не можуть отримати доступ
- [ ] Перевірити, що API `/api/admin/images` вимагає авторизації
- [ ] Перевірити, що лише адміністратори мають доступ

---

## Підсумок тестування

**Дата тестування:** _________________

**Тестувальник:** _________________

**Браузер:** _________________

**Статус:**
- [ ] ✅ Всі тести пройшли успішно
- [ ] ⚠️ Є незначні проблеми (вказати нижче)
- [ ] ❌ Є критичні помилки (вказати нижче)

**Знайдені проблеми:**
_________________________________________
_________________________________________
_________________________________________

**Коментарі:**
_________________________________________
_________________________________________
_________________________________________

---

**Примітка:** Цей чеклист можна використовувати для регресійного тестування після майбутніх оновлень.

