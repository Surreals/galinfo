import { ArticlePageClient } from "./ArticlePageClient";

interface ArticlePageProps {
  params: Promise<{
    id: string;
  }>;
  searchParams?: Promise<{ [key: string]: string | string[] | undefined }>;
}

export default async function ArticlePage({ params, searchParams }: ArticlePageProps) {
  const { id } = await params;
  
  // Перевіряємо, чи існує id
  if (!id) {
    return <div>Новина не знайдена</div>;
  }

  // Моковані дані для різних статей
  const getArticleData = (articleId: string) => {
    const articles = {
      'front-news-101': {
        id: articleId,
        title: "На фронті від початку доби - 101 зіткнення, бої точаться на семи напрямках",
        lead: "Військові дії на сході України продовжують загострюватися. За даними Генерального штабу, протягом доби відбулося 101 бойове зіткнення на семи основних напрямках.",
        content: `Військові дії на сході України продовжують загострюватися. За даними Генерального штабу, протягом доби відбулося 101 бойове зіткнення на семи основних напрямках.

Найактивніші бойові дії відбуваються на Куп'янському, Лиманському та Бахмутському напрямках. Противник намагається просунутися вперед, але українські захисники стійко тримають оборону та завдають значних втрат ворогу.

За даними розвідки, російські війська перегруповують сили та підтягують резерви. Експерти вважають, що це може свідчити про підготовку до нових наступальних дій.

Українські захисники продовжують успішно відбивати атаки противника та завдавати йому значних втрат. За останню добу знищено понад 20 одиниць бронетехніки та близько 300 особового складу ворога.`,
        imageUrl: "https://picsum.photos/800/500?random=front",
        imageAlt: "Військові дії на фронті",
        photoCredit: "ФОТО: Генеральний штаб ЗСУ",
        source: "ДЖЕРЕЛО: фото Олена Ляхович, Гал-інфо",
        author: "Максим Петренко",
        date: "02 липня 2025",
        time: "14:54",
        category: "ВІЙНА",
        tags: ["ФРОНТ", "БОЙОВІ ДІЇ", "ЗСУ", "РОСІЯ", "ОБОРОНА"]
      },
      'it-innovations-war': {
        id: articleId,
        title: "Війна на сході: як ІТ-інновації змінюють стратегію оборони",
        lead: "Українські ІТ-спеціалісти розробляють революційні технології, які кардинально змінюють підхід до ведення бойових дій на сучасному театрі воєнних дій.",
        content: `Українські ІТ-спеціалісти розробляють революційні технології, які кардинально змінюють підхід до ведення бойових дій на сучасному театрі воєнних дій.

Від штучного інтелекту для аналізу розвідувальних даних до дронів з автономним навігуванням - українські розробники створюють інструменти, які дають ЗСУ значну перевагу над противником.

"Ми перетворили війну на цифрову гру, де технологія визначає переможця", - каже керівник одного з ІТ-проектів Міноборони. "Наші алгоритми можуть проаналізувати тисячі зображень за секунди та виявити загрози, які людина може пропустити".

Особливу увагу приділяється розробці систем кібербезпеки, які захищають українську інфраструктуру від кібератак противника. Експерти стверджують, що кіберпростір став новим полем бою.`,
        imageUrl: "https://picsum.photos/800/500?random=it",
        imageAlt: "Люди за столами на IT конференції",
        photoCredit: "ФОТО: Міністерство цифрової трансформації",
        source: "ДЖЕРЕЛО: фото Олена Ляхович, Гал-інфо",
        author: "Анна Коваленко",
        date: "04 липня 2025",
        time: "11:15",
        category: "ТЕХНОЛОГІЇ",
        tags: ["ІТ", "ІННОВАЦІЇ", "ВІЙНА", "КІБЕРБЕЗПЕКА", "ДРОНИ"]
      },
      'golub-war-nova-poshta': {
        id: articleId,
        title: "Як 'Голуб' із 'Нової пошти' став 'Голубом війни'",
        lead: "Історія про те, як звичайний кур'єр 'Нової пошти' перетворився на одного з найвідоміших бойових пілотів України, використовуючи свої навички логістики на полі бою.",
        content: `Історія про те, як звичайний кур'єр "Нової пошти" перетворився на одного з найвідоміших бойових пілотів України, використовуючи свої навички логістики на полі бою.

"Голуб" - це позивний 32-річного Андрія Петренка, який до війни працював кур'єром у "Новій пошті". Його досвід у плануванні маршрутів та доставці вантажів виявився неоцінним у бойових умовах.

"Я знав кожен куточок міста, кожен під'їзд, кожну вулицю", - розповідає Андрій. "Це допомогло мені стати експертом з логістики на фронті. Я можу доставити будь-що будь-куди, навіть під вогнем противника".

За рік служби "Голуб" здійснив понад 200 бойових вильотів, доставив тонни гуманітарної допомоги та евакуював десятки поранених. Його історія стала символом того, як звичайні українці перетворюються на героїв.`,
        imageUrl: "https://picsum.photos/800/500?random=golub",
        imageAlt: "Військовий у формі посміхається",
        photoCredit: "ФОТО: Пресслужба ЗСУ",
        source: "ДЖЕРЕЛО: фото Олена Ляхович, Гал-інфо",
        author: "Олександр Мороз",
        date: "02 липня 2025",
        time: "14:54",
        category: "ВІЙНА",
        tags: ["ГЕРОЇ", "ЗСУ", "ЛОГІСТИКА", "ПІЛОТ", "НОВА ПОШТА"]
      },
      'example-article': {
        id: articleId,
        title: "Офіс Генпрокурора та СБУ викрили нардепа від ОПЗЖ Христенка у держзраді",
        lead: "Офіс Генерального прокурора та Служба безпеки України викрили народного депутата від партії ОПЗЖ у державній зраді. За даними слідства, він мав зв'язки з ФСБ та передавав секретну інформацію.",
        content: `Офіс Генерального прокурора та Служба безпеки України (СБУ) викрили народного депутата від партії "Опозиційна платформа - За життя" (ОПЗЖ) у державній зраді. За даними слідства, він мав зв'язки з Федеральною службою безпеки (ФСБ) та передавав секретну інформацію.

Слідчі встановили, що нардеп систематично збирава та передавав російським спецслужбам інформацію про обороноздатність України, переміщення військ та плани командування. Він також намагався впливати на прийняття рішень у Верховній Раді на користь російських інтересів.

Під час обшуків у його офісі та помешканні було знайдено компрометуючі документи, електронні носії з секретною інформацією та засоби зв'язку, які використовувалися для комунікації з російськими кураторами.

Генеральна прокуратура України відкрила кримінальне провадження за статтею 111 Кримінального кодексу України (державна зрада). Народному депутату загрожує позбавлення волі на строк від 12 до 15 років або довічне позбавлення волі з конфіскацією майна.

Це не перший випадок, коли представники ОПЗЖ звинувачуються у державній зраді. Раніше СБУ викрила кількох членів партії у співпраці з російськими спецслужбами та фінансуванні терористичних організацій.`,
        imageUrl: "https://picsum.photos/800/500?random=article",
        imageAlt: "Офіс Генпрокурора та СБУ під час обшуку",
        photoCredit: "ФОТО: Офіс Генерального прокурора",
        source: "ДЖЕРЕЛО: фото Олена Ляхович, Гал-інфо",
        author: "Уляна Безпалько",
        date: "02 липня 2025",
        time: "14:54",
        category: "ПОЛІТИКА",
        tags: ["ДЕПУТАТИ", "НАБУ", "ДЕРЖАВНА ЗРАДА", "ОПЗЖ", "ЗЛОВЖИВАННЯ"]
      }
    };

    return articles[articleId as keyof typeof articles] || articles['example-article'];
  };

  const articleData = getArticleData(id);

  // Функція для генерації випадкових новин для NewsList
  const generateRandomNews = (count: number) => {
    const titles = [
      "Зеленський підписав новий закон",
      "В Україні прогнозують грози",
      "Трамп дав нове інтерв'ю",
      "На Львівщині відкрили парк",
      "Вчені винайшли новий велосипед",
      "Новий арт-проєкт у центрі Києва",
      "Економічні новини та аналітика",
      "Спортивні події та досягнення",
      "Культурні заходи та фестивалі",
      "Медичні новини та здоров'я",
    ];

    const articleIds = [
      "zelensky-new-law",
      "ukraine-thunderstorms",
      "trump-interview",
      "lviv-region-park",
      "scientists-bicycle",
      "kyiv-art-project",
      "economic-news",
      "sports-events",
      "cultural-events",
      "medical-news"
    ];

    return Array.from({ length: count }, (_, index) => ({
      id: `article-${index + 1}`,
      title: titles[Math.floor(Math.random() * titles.length)],
      time: new Date(
        Date.now() - Math.floor(Math.random() * 1e8)
      ).toLocaleString("uk-UA", {
        day: "2-digit",
        month: "long",
        year: "numeric",
        hour: "2-digit",
        minute: "2-digit",
      }),
      imageUrl: `https://picsum.photos/seed/${Math.random()}/300/200`,
      url: `/article/${articleIds[Math.floor(Math.random() * articleIds.length)]}-${index + 1}`,
    }));
  };

  // Генеруємо дані для трьох колонок NewsList
  const newsData1 = generateRandomNews(8);
  const newsData2 = generateRandomNews(8);
  const newsData3 = generateRandomNews(8);

  return (
    <ArticlePageClient 
      articleData={articleData}
      newsData1={newsData1}
      newsData2={newsData2}
      newsData3={newsData3}
    />
  );
}
