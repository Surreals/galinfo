# Модалка вибору зображень для редактора статей

## Опис

Реалізована модалка для вибору та завантаження зображень в редакторі статей. Модалка інтегрована з EditorJS та надає зручний інтерфейс для роботи з зображеннями.

## Компоненти

### 1. ImagePickerModal
Основний компонент модалки з двома вкладками:
- **Галерея** - перегляд та вибір існуючих зображень
- **Завантажити** - завантаження нових зображень

### 2. ImageGallery
Компонент для відображення галереї зображень з можливостями:
- Пошук по назві та імені файлу
- Фільтрація по типу зображення
- Пагінація
- Перегляд мініатюр
- Вибір зображення

### 3. ImageUpload
Компонент для завантаження нових зображень:
- Drag & drop інтерфейс
- Валідація типу та розміру файлу
- Прогрес завантаження
- Метадані зображення (назва, тип, опис)

## API Endpoints

### GET /api/admin/images
Отримання списку зображень з підтримкою:
- Пагінації (`page`, `limit`)
- Пошуку (`search`)
- Фільтрації по типу (`pic_type`)

### POST /api/admin/images/upload
Завантаження нового зображення з метаданими:
- `file` - файл зображення
- `title` - назва зображення
- `pic_type` - тип зображення
- `description` - опис (необов'язково)

## Структура зображень

Зображення зберігаються в структурі:
```
public/media/gallery/
├── full/          # Повнорозмірні зображення
│   └── [перший_символ]/
│       └── [другий_символ]/
│           └── filename.jpg
├── tmb/           # Мініатюри
│   └── [перший_символ]/
│       └── [другий_символ]/
│           └── filename.jpg
└── intxt/         # Зображення для тексту
    └── [перший_символ]/
        └── [другий_символ]/
            └── filename.jpg
```

## База даних

Таблиця `PICS`:
- `id` - унікальний ідентифікатор
- `filename` - ім'я файлу
- `title` - назва зображення
- `pic_type` - тип зображення (news, gallery, avatar, banner)
- `description` - опис
- `created_at` - дата створення
- `updated_at` - дата оновлення

## Інтеграція з EditorJS

Модалка інтегрована з EditorJS через:
1. Кастомну конфігурацію ImageTool
2. Обробник `onSelect` для відкриття модалки
3. Оновлення блоку зображення після вибору

## Використання

```tsx
import ImagePickerModal from './ImagePickerModal';

<ImagePickerModal
  isOpen={isModalOpen}
  onClose={() => setIsModalOpen(false)}
  onSelect={(image) => {
    // Обробка вибраного зображення
    console.log('Selected image:', image);
  }}
  currentImage={selectedImage}
/>
```

## Особливості

1. **Автоматичне створення підпапок** на основі перших двох символів імені файлу
2. **Валідація файлів** - перевірка типу та розміру
3. **Прогрес завантаження** - візуальний індикатор процесу
4. **Пошук та фільтрація** - зручний пошук по галереї
5. **Адаптивний дизайн** - підтримка різних розмірів екрану
6. **Українська локалізація** - всі тексти українською мовою

## Майбутні покращення

1. Автоматичне створення мініатюр різних розмірів
2. Оптимізація зображень при завантаженні
3. Підтримка drag & drop для зміни порядку
4. Масові операції (видалення, зміна типу)
5. Кешування зображень
6. Підтримка альтернативного тексту для доступності
