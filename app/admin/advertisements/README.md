# Управління рекламою з вибором зображень з галереї

## Огляд функціональності

На сторінці `admin/advertisements` тепер є можливість вибирати зображення для реклами з існуючої галереї адмін-панелі, а не тільки завантажувати нові файли.

## Структура компонентів

### 1. ImageGallerySelector
**Файл:** `ImageGallerySelector.tsx`

Модальний компонент для вибору зображення з галереї.

**Props:**
- `visible` (boolean) - чи відображається модальне вікно
- `onCancel` (function) - функція закриття модального вікна
- `onSelect` (function) - функція обробки вибору зображення, приймає URL вибраного зображення

**Функціонал:**
- Відображення списку зображень з галереї у вигляді таблиці
- Пошук зображень за назвою, ім'ям файлу або тегами
- Фільтрація за типом зображення (новини, галерея, аватар, банер)
- Фільтрація за тегами
- Пагінація (10 зображень на сторінку)
- Попередній перегляд вибраного зображення перед підтвердженням
- Можливість вибору зображення кліком по рядку таблиці

### 2. Оновлена сторінка Advertisements
**Файл:** `page.tsx`

**Додані елементи:**
- Стан `galleryVisible` для контролю відображення модального вікна галереї
- Функція `handleSelectFromGallery` для обробки вибору зображення з галереї
- Кнопка "Вибрати з галереї" з іконкою в формі створення/редагування реклами
- Інтеграція компонента `ImageGallerySelector`

## Використання

### Створення нової реклами з зображенням з галереї:
1. Натисніть кнопку "Додати рекламу"
2. Заповніть необхідні поля (назва, позиція, URL посилання)
3. Натисніть кнопку "Вибрати з галереї" (замість завантаження нового зображення)
4. У модальному вікні використовуйте пошук та фільтри для знаходження потрібного зображення
5. Клікніть по зображенню для вибору (воно буде підсвічено)
6. Натисніть "Вибрати" для підтвердження
7. Перевірте, що вибране зображення відображається у попередньому перегляді
8. Заповніть інші поля та збережіть рекламу

### Редагування існуючої реклами:
1. Натисніть кнопку "Редагувати" біля потрібної реклами
2. Натисніть "Вибрати з галереї" для зміни зображення
3. Виберіть нове зображення з галереї
4. Збережіть зміни

## API

Компонент використовує існуючий API endpoint:
- `GET /api/admin/images` - отримання списку зображень з параметрами пошуку та фільтрації

**Параметри запиту:**
- `page` - номер сторінки (за замовчуванням: 1)
- `limit` - кількість зображень на сторінку (за замовчуванням: 10)
- `search` - пошуковий запит (опціонально)
- `pic_type` - тип зображення (опціонально)
- `tags` - фільтр по тегах (опціонально)

## Стилі

**Файл:** `ImageGallerySelector.module.css`

Містить стилі для:
- Контейнера модального вікна
- Панелі фільтрів
- Мініатюр зображень
- Підсвічування вибраного рядка
- Блоку попереднього перегляду вибраного зображення
- Адаптивний дизайн для мобільних пристроїв

## Переваги нової функціональності

1. **Зменшення дублювання файлів** - можна використовувати одне зображення для кількох реклам
2. **Швидкість** - не потрібно завантажувати зображення знову, якщо воно вже є в галереї
3. **Зручність пошуку** - можливість швидко знайти потрібне зображення за назвою або тегами
4. **Організованість** - всі зображення зберігаються в одному місці
5. **Попередній перегляд** - можна переглянути зображення перед вибором

## Сумісність

- Працює разом з існуючою функціональністю завантаження нових зображень
- Не впливає на існуючі реклами
- Повністю сумісна з поточною структурою бази даних

